import{R as e,r as t}from"./react-vendor-31zzwpBM.js";import{j as r}from"./query-vendor-CVtgHnZ_.js";var s=e=>"checkbox"===e.type,a=e=>e instanceof Date,i=e=>null==e;const n=e=>"object"==typeof e;var o=e=>!i(e)&&!Array.isArray(e)&&n(e)&&!a(e),l="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function u(e){let t;const r=Array.isArray(e),s="undefined"!=typeof FileList&&e instanceof FileList;if(e instanceof Date)t=new Date(e);else{if(l&&(e instanceof Blob||s)||!r&&!o(e))return e;if(t=r?[]:Object.create(Object.getPrototypeOf(e)),r||(e=>{const t=e.constructor&&e.constructor.prototype;return o(t)&&t.hasOwnProperty("isPrototypeOf")})(e))for(const r in e)e.hasOwnProperty(r)&&(t[r]=u(e[r]));else t=e}return t}var d=e=>/^\w*$/.test(e),f=e=>void 0===e,c=e=>Array.isArray(e)?e.filter(Boolean):[],m=e=>c(e.replace(/["|']|\]/g,"").split(/\.|\[/)),y=(e,t,r)=>{if(!t||!o(e))return r;const s=(d(t)?[t]:m(t)).reduce((e,t)=>i(e)?e:e[t],e);return f(s)||s===e?f(e[t])?r:e[t]:s},h=e=>"boolean"==typeof e,v=(e,t,r)=>{let s=-1;const a=d(t)?[t]:m(t),i=a.length,n=i-1;for(;++s<i;){const t=a[s];let i=r;if(s!==n){const r=e[t];i=o(r)||Array.isArray(r)?r:isNaN(+a[s+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=i,e=e[t]}};const g="blur",b="focusout",p="onBlur",_="onChange",V="onSubmit",F="onTouched",A="all",w="max",x="min",S="maxLength",k="minLength",D="pattern",O="required",E="validate";e.createContext(null).displayName="HookFormContext";const N="undefined"!=typeof window?e.useLayoutEffect:e.useEffect;var j=e=>"string"==typeof e,C=e=>i(e)||!n(e);function T(e,t,r=new WeakSet){if(C(e)||C(t))return e===t;if(a(e)&&a(t))return e.getTime()===t.getTime();const s=Object.keys(e),i=Object.keys(t);if(s.length!==i.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const n of s){const s=e[n];if(!i.includes(n))return!1;if("ref"!==n){const e=t[n];if(a(s)&&a(e)||o(s)&&o(e)||Array.isArray(s)&&Array.isArray(e)?!T(s,e,r):s!==e)return!1}}return!0}var L=(e,t,r,s,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[s]:a||!0}}:{},M=e=>Array.isArray(e)?e:[e],R=()=>{let e=[];return{get observers(){return e},next:t=>{for(const r of e)r.next&&r.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(e=>e!==t)}}),unsubscribe:()=>{e=[]}}};function U(e,t){const r={};for(const s in e)if(e.hasOwnProperty(s)){const a=e[s],i=t[s];if(a&&o(a)&&i){const e=U(a,i);o(e)&&(r[s]=e)}else e[s]&&(r[s]=i)}return r}var B=e=>o(e)&&!Object.keys(e).length,q=e=>"file"===e.type,P=e=>"function"==typeof e,I=e=>{if(!l)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},$=e=>"select-multiple"===e.type,W=e=>"radio"===e.type,H=e=>I(e)&&e.isConnected;function z(e,t){const r=Array.isArray(t)?t:d(t)?[t]:m(t),s=1===r.length?e:function(e,t){const r=t.slice(0,-1).length;let s=0;for(;s<r;)e=f(e)?s++:e[t[s++]];return e}(e,r),a=r.length-1,i=r[a];return s&&delete s[i],0!==a&&(o(s)&&B(s)||Array.isArray(s)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!f(e[t]))return!1;return!0}(s))&&z(e,r.slice(0,-1)),e}function G(e){return Array.isArray(e)||o(e)&&!(e=>{for(const t in e)if(P(e[t]))return!0;return!1})(e)}function J(e,t={}){for(const r in e)G(e[r])?(t[r]=Array.isArray(e[r])?[]:{},J(e[r],t[r])):f(e[r])||(t[r]=!0);return t}function K(e,t,r){r||(r=J(t));for(const s in e)G(e[s])?f(t)||C(r[s])?r[s]=J(e[s],Array.isArray(e[s])?[]:{}):K(e[s],i(t)?{}:t[s],r[s]):r[s]=!T(e[s],t[s]);return r}const Q={value:!1,isValid:!1},X={value:!0,isValid:!0};var Y=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!f(e[0].attributes.value)?f(e[0].value)||""===e[0].value?X:{value:e[0].value,isValid:!0}:X:Q}return Q},Z=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:s})=>f(e)?e:t?""===e?NaN:e?+e:e:r&&j(e)?new Date(e):s?s(e):e;const ee={isValid:!1,value:null};var te=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,ee):ee;function re(e){const t=e.ref;return q(t)?t.files:W(t)?te(e.refs).value:$(t)?[...t.selectedOptions].map(({value:e})=>e):s(t)?Y(e.refs).value:Z(f(t.value)?e.ref.value:t.value,e)}var se=e=>e instanceof RegExp,ae=e=>f(e)?e:se(e)?e.source:o(e)?se(e.value)?e.value.source:e.value:e,ie=e=>({isOnSubmit:!e||e===V,isOnBlur:e===p,isOnChange:e===_,isOnAll:e===A,isOnTouch:e===F});const ne="AsyncFunction";var oe=e=>!!e&&!!e.validate&&!!(P(e.validate)&&e.validate.constructor.name===ne||o(e.validate)&&Object.values(e.validate).find(e=>e.constructor.name===ne)),le=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));const ue=(e,t,r,s)=>{for(const a of r||Object.keys(e)){const r=y(e,a);if(r){const{_f:e,...i}=r;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],a)&&!s)return!0;if(e.ref&&t(e.ref,e.name)&&!s)return!0;if(ue(i,t))break}else if(o(i)&&ue(i,t))break}}};function de(e,t,r){const s=y(e,r);if(s||d(r))return{error:s,name:r};const a=r.split(".");for(;a.length;){const s=a.join("."),i=y(t,s),n=y(e,s);if(i&&!Array.isArray(i)&&r!==s)return{name:r};if(n&&n.type)return{name:s,error:n};if(n&&n.root&&n.root.type)return{name:`${s}.root`,error:n.root};a.pop()}return{name:r}}var fe=(e,t,r)=>{const s=M(y(e,r));return v(s,"root",t[r]),v(e,r,s),e};function ce(e,t,r="validate"){if(j(e)||Array.isArray(e)&&e.every(j)||h(e)&&!e)return{type:r,message:j(e)?e:"",ref:t}}var me=e=>o(e)&&!se(e)?e:{value:e,message:""},ye=async(e,t,r,a,n,l)=>{const{ref:u,refs:d,required:c,maxLength:m,minLength:v,min:g,max:b,pattern:p,validate:_,name:V,valueAsNumber:F,mount:A}=e._f,N=y(r,V);if(!A||t.has(V))return{};const C=d?d[0]:u,T=e=>{n&&C.reportValidity&&(C.setCustomValidity(h(e)?"":e||""),C.reportValidity())},M={},R=W(u),U=s(u),$=R||U,H=(F||q(u))&&f(u.value)&&f(N)||I(u)&&""===u.value||""===N||Array.isArray(N)&&!N.length,z=L.bind(null,V,a,M),G=(e,t,r,s=S,a=k)=>{const i=e?t:r;M[V]={type:e?s:a,message:i,ref:u,...z(e?s:a,i)}};if(l?!Array.isArray(N)||!N.length:c&&(!$&&(H||i(N))||h(N)&&!N||U&&!Y(d).isValid||R&&!te(d).isValid)){const{value:e,message:t}=j(c)?{value:!!c,message:c}:me(c);if(e&&(M[V]={type:O,message:t,ref:C,...z(O,t)},!a))return T(t),M}if(!(H||i(g)&&i(b))){let e,t;const r=me(b),s=me(g);if(i(N)||isNaN(N)){const a=u.valueAsDate||new Date(N),i=e=>new Date((new Date).toDateString()+" "+e),n="time"==u.type,o="week"==u.type;j(r.value)&&N&&(e=n?i(N)>i(r.value):o?N>r.value:a>new Date(r.value)),j(s.value)&&N&&(t=n?i(N)<i(s.value):o?N<s.value:a<new Date(s.value))}else{const a=u.valueAsNumber||(N?+N:N);i(r.value)||(e=a>r.value),i(s.value)||(t=a<s.value)}if((e||t)&&(G(!!e,r.message,s.message,w,x),!a))return T(M[V].message),M}if((m||v)&&!H&&(j(N)||l&&Array.isArray(N))){const e=me(m),t=me(v),r=!i(e.value)&&N.length>+e.value,s=!i(t.value)&&N.length<+t.value;if((r||s)&&(G(r,e.message,t.message),!a))return T(M[V].message),M}if(p&&!H&&j(N)){const{value:e,message:t}=me(p);if(se(e)&&!N.match(e)&&(M[V]={type:D,message:t,ref:u,...z(D,t)},!a))return T(t),M}if(_)if(P(_)){const e=ce(await _(N,r),C);if(e&&(M[V]={...e,...z(E,e.message)},!a))return T(e.message),M}else if(o(_)){let e={};for(const t in _){if(!B(e)&&!a)break;const s=ce(await _[t](N,r),C,t);s&&(e={...s,...z(t,s.message)},T(s.message),a&&(M[V]=e))}if(!B(e)&&(M[V]={ref:C,...e},!a))return M}return T(!0),M};const he={mode:V,reValidateMode:_,shouldFocusError:!0};function ve(e={}){let t,r={...he,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:P(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},d={},m=(o(r.defaultValues)||o(r.values))&&u(r.defaultValues||r.values)||{},p=r.shouldUnregister?{}:u(m),_={action:!1,mount:!1,watch:!1},V={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},F=0;const w={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let x={...w};const S={array:R(),state:R()},k=r.criteriaMode===A,D=async e=>{if(!r.disabled&&(w.isValid||x.isValid||e)){const e=r.resolver?B((await L()).errors):await G(d,!0);e!==n.isValid&&S.state.next({isValid:e})}},O=(e,t)=>{!r.disabled&&(w.isValidating||w.validatingFields||x.isValidating||x.validatingFields)&&((e||Array.from(V.mount)).forEach(e=>{e&&(t?v(n.validatingFields,e,t):z(n.validatingFields,e))}),S.state.next({validatingFields:n.validatingFields,isValidating:!B(n.validatingFields)}))},E=(e,t,r,s)=>{const a=y(d,e);if(a){const i=y(p,e,f(r)?y(m,e):r);f(i)||s&&s.defaultChecked||t?v(p,e,t?i:re(a._f)):X(e,i),_.mount&&D()}},N=(e,t,s,a,i)=>{let o=!1,l=!1;const u={name:e};if(!r.disabled){if(!s||a){(w.isDirty||x.isDirty)&&(l=n.isDirty,n.isDirty=u.isDirty=J(),o=l!==u.isDirty);const r=T(y(m,e),t);l=!!y(n.dirtyFields,e),r?z(n.dirtyFields,e):v(n.dirtyFields,e,!0),u.dirtyFields=n.dirtyFields,o=o||(w.dirtyFields||x.dirtyFields)&&l!==!r}if(s){const t=y(n.touchedFields,e);t||(v(n.touchedFields,e,s),u.touchedFields=n.touchedFields,o=o||(w.touchedFields||x.touchedFields)&&t!==s)}o&&i&&S.state.next(u)}return o?u:{}},C=(e,s,a,i)=>{const o=y(n.errors,e),l=(w.isValid||x.isValid)&&h(s)&&n.isValid!==s;var u;if(r.delayError&&a?(u=()=>((e,t)=>{v(n.errors,e,t),S.state.next({errors:n.errors})})(e,a),t=e=>{clearTimeout(F),F=setTimeout(u,e)},t(r.delayError)):(clearTimeout(F),t=null,a?v(n.errors,e,a):z(n.errors,e)),(a?!T(o,a):o)||!B(i)||l){const t={...i,...l&&h(s)?{isValid:s}:{},errors:n.errors,name:e};n={...n,...t},S.state.next(t)}},L=async e=>{O(e,!0);const t=await r.resolver(p,r.context,((e,t,r,s)=>{const a={};for(const i of e){const e=y(t,i);e&&v(a,i,e._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:s}})(e||V.mount,d,r.criteriaMode,r.shouldUseNativeValidation));return O(e),t},G=async(e,t,s={valid:!0})=>{for(const a in e){const i=e[a];if(i){const{_f:e,...a}=i;if(e){const a=V.array.has(e.name),o=i._f&&oe(i._f);o&&w.validatingFields&&O([e.name],!0);const l=await ye(i,V.disabled,p,k,r.shouldUseNativeValidation&&!t,a);if(o&&w.validatingFields&&O([e.name]),l[e.name]&&(s.valid=!1,t))break;!t&&(y(l,e.name)?a?fe(n.errors,l,e.name):v(n.errors,e.name,l[e.name]):z(n.errors,e.name))}!B(a)&&await G(a,t,s)}}return s.valid},J=(e,t)=>!r.disabled&&(e&&t&&v(p,e,t),!T(ce(),m)),Q=(e,t,r)=>((e,t,r,s,a)=>j(e)?(s&&t.watch.add(e),y(r,e,a)):Array.isArray(e)?e.map(e=>(s&&t.watch.add(e),y(r,e))):(s&&(t.watchAll=!0),r))(e,V,{..._.mount?p:f(t)?m:j(e)?{[e]:t}:t},r,t),X=(e,t,r={})=>{const a=y(d,e);let n=t;if(a){const r=a._f;r&&(!r.disabled&&v(p,e,Z(t,r)),n=I(r.ref)&&i(t)?"":t,$(r.ref)?[...r.ref.options].forEach(e=>e.selected=n.includes(e.value)):r.refs?s(r.ref)?r.refs.forEach(e=>{e.defaultChecked&&e.disabled||(Array.isArray(n)?e.checked=!!n.find(t=>t===e.value):e.checked=n===e.value||!!n)}):r.refs.forEach(e=>e.checked=e.value===n):q(r.ref)?r.ref.value="":(r.ref.value=n,r.ref.type||S.state.next({name:e,values:u(p)})))}(r.shouldDirty||r.shouldTouch)&&N(e,n,r.shouldTouch,r.shouldDirty,!0),r.shouldValidate&&ne(e)},Y=(e,t,r)=>{for(const s in t){if(!t.hasOwnProperty(s))return;const i=t[s],n=e+"."+s,l=y(d,n);(V.array.has(e)||o(i)||l&&!l._f)&&!a(i)?Y(n,i,r):X(n,i,r)}},ee=(e,t,r={})=>{const s=y(d,e),a=V.array.has(e),o=u(t);v(p,e,o),a?(S.array.next({name:e,values:u(p)}),(w.isDirty||w.dirtyFields||x.isDirty||x.dirtyFields)&&r.shouldDirty&&S.state.next({name:e,dirtyFields:K(m,p),isDirty:J(e,o)})):!s||s._f||i(o)?X(e,o,r):Y(e,o,r),le(e,V)&&S.state.next({...n,name:e}),S.state.next({name:_.mount?e:void 0,values:u(p)})},te=async e=>{_.mount=!0;const i=e.target;let l=i.name,f=!0;const c=y(d,l),m=e=>{f=Number.isNaN(e)||a(e)&&isNaN(e.getTime())||T(e,y(p,l,e))},h=ie(r.mode),F=ie(r.reValidateMode);if(c){let a,_;const E=i.type?re(c._f):(e=>o(e)&&e.target?s(e.target)?e.target.checked:e.target.value:e)(e),j=e.type===g||e.type===b,T=!((A=c._f).mount&&(A.required||A.min||A.max||A.maxLength||A.minLength||A.pattern||A.validate)||r.resolver||y(n.errors,l)||c._f.deps)||((e,t,r,s,a)=>!a.isOnAll&&(!r&&a.isOnTouch?!(t||e):(r?s.isOnBlur:a.isOnBlur)?!e:!(r?s.isOnChange:a.isOnChange)||e))(j,y(n.touchedFields,l),n.isSubmitted,F,h),M=le(l,V,j);v(p,l,E),j?i&&i.readOnly||(c._f.onBlur&&c._f.onBlur(e),t&&t(0)):c._f.onChange&&c._f.onChange(e);const R=N(l,E,j),U=!B(R)||M;if(!j&&S.state.next({name:l,type:e.type,values:u(p)}),T)return(w.isValid||x.isValid)&&("onBlur"===r.mode?j&&D():j||D()),U&&S.state.next({name:l,...M?{}:R});if(!j&&M&&S.state.next({...n}),r.resolver){const{errors:e}=await L([l]);if(m(E),f){const t=de(n.errors,d,l),r=de(e,d,t.name||l);a=r.error,l=r.name,_=B(e)}}else O([l],!0),a=(await ye(c,V.disabled,p,k,r.shouldUseNativeValidation))[l],O([l]),m(E),f&&(a?_=!1:(w.isValid||x.isValid)&&(_=await G(d,!0)));f&&(c._f.deps&&(!Array.isArray(c._f.deps)||c._f.deps.length>0)&&ne(c._f.deps),C(l,_,a,R))}var A},se=(e,t)=>{if(y(n.errors,t)&&e.focus)return e.focus(),1},ne=async(e,t={})=>{let s,a;const i=M(e);if(r.resolver){const t=await(async e=>{const{errors:t}=await L(e);if(e)for(const r of e){const e=y(t,r);e?v(n.errors,r,e):z(n.errors,r)}else n.errors=t;return t})(f(e)?e:i);s=B(t),a=e?!i.some(e=>y(t,e)):s}else e?(a=(await Promise.all(i.map(async e=>{const t=y(d,e);return await G(t&&t._f?{[e]:t}:t)}))).every(Boolean),(a||n.isValid)&&D()):a=s=await G(d);return S.state.next({...!j(e)||(w.isValid||x.isValid)&&s!==n.isValid?{}:{name:e},...r.resolver||!e?{isValid:s}:{},errors:n.errors}),t.shouldFocus&&!a&&ue(d,se,e?i:V.mount),a},ce=(e,t)=>{let r={..._.mount?p:m};return t&&(r=U(t.dirtyFields?n.dirtyFields:n.touchedFields,r)),f(e)?r:j(e)?y(r,e):e.map(e=>y(r,e))},me=(e,t)=>({invalid:!!y((t||n).errors,e),isDirty:!!y((t||n).dirtyFields,e),error:y((t||n).errors,e),isValidating:!!y(n.validatingFields,e),isTouched:!!y((t||n).touchedFields,e)}),ve=(e,t,r)=>{const s=(y(d,e,{_f:{}})._f||{}).ref,a=y(n.errors,e)||{},{ref:i,message:o,type:l,...u}=a;v(n.errors,e,{...u,...t,ref:s}),S.state.next({name:e,errors:n.errors,isValid:!1}),r&&r.shouldFocus&&s&&s.focus&&s.focus()},ge=e=>S.state.subscribe({next:t=>{var r,s,a;r=e.name,s=t.name,a=e.exact,r&&s&&r!==s&&!M(r).some(e=>e&&(a?e===s:e.startsWith(s)||s.startsWith(e)))||!((e,t,r,s)=>{r(e);const{name:a,...i}=e;return B(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(e=>t[e]===(!s||A))})(t,e.formState||w,xe,e.reRenderRoot)||e.callback({values:{...p},...n,...t,defaultValues:m})}}).unsubscribe,be=(e,t={})=>{for(const s of e?M(e):V.mount)V.mount.delete(s),V.array.delete(s),t.keepValue||(z(d,s),z(p,s)),!t.keepError&&z(n.errors,s),!t.keepDirty&&z(n.dirtyFields,s),!t.keepTouched&&z(n.touchedFields,s),!t.keepIsValidating&&z(n.validatingFields,s),!r.shouldUnregister&&!t.keepDefaultValue&&z(m,s);S.state.next({values:u(p)}),S.state.next({...n,...t.keepDirty?{isDirty:J()}:{}}),!t.keepIsValid&&D()},pe=({disabled:e,name:t})=>{(h(e)&&_.mount||e||V.disabled.has(t))&&(e?V.disabled.add(t):V.disabled.delete(t))},_e=(e,t={})=>{let a=y(d,e);const i=h(t.disabled)||h(r.disabled);return v(d,e,{...a||{},_f:{...a&&a._f?a._f:{ref:{name:e}},name:e,mount:!0,...t}}),V.mount.add(e),a?pe({disabled:h(t.disabled)?t.disabled:r.disabled,name:e}):E(e,!0,t.value),{...i?{disabled:t.disabled||r.disabled}:{},...r.progressive?{required:!!t.required,min:ae(t.min),max:ae(t.max),minLength:ae(t.minLength),maxLength:ae(t.maxLength),pattern:ae(t.pattern)}:{},name:e,onChange:te,onBlur:te,ref:i=>{if(i){_e(e,t),a=y(d,e);const r=f(i.value)&&i.querySelectorAll&&i.querySelectorAll("input,select,textarea")[0]||i,n=(e=>W(e)||s(e))(r),o=a._f.refs||[];if(n?o.find(e=>e===r):r===a._f.ref)return;v(d,e,{_f:{...a._f,...n?{refs:[...o.filter(H),r,...Array.isArray(y(m,e))?[{}]:[]],ref:{type:r.type,name:e}}:{ref:r}}}),E(e,!1,void 0,r)}else a=y(d,e,{}),a._f&&(a._f.mount=!1),(r.shouldUnregister||t.shouldUnregister)&&(!((e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)))(V.array,e)||!_.action)&&V.unMount.add(e)}}},Ve=()=>r.shouldFocusError&&ue(d,se,V.mount),Fe=(e,t)=>async s=>{let a;s&&(s.preventDefault&&s.preventDefault(),s.persist&&s.persist());let i=u(p);if(S.state.next({isSubmitting:!0}),r.resolver){const{errors:e,values:t}=await L();n.errors=e,i=u(t)}else await G(d);if(V.disabled.size)for(const e of V.disabled)z(i,e);if(z(n.errors,"root"),B(n.errors)){S.state.next({errors:{}});try{await e(i,s)}catch(o){a=o}}else t&&await t({...n.errors},s),Ve(),setTimeout(Ve);if(S.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:B(n.errors)&&!a,submitCount:n.submitCount+1,errors:n.errors}),a)throw a},Ae=(e,t={})=>{const s=e?u(e):m,a=u(s),i=B(e),o=i?m:a;if(t.keepDefaultValues||(m=s),!t.keepValues){if(t.keepDirtyValues){const e=new Set([...V.mount,...Object.keys(K(m,p))]);for(const t of Array.from(e))y(n.dirtyFields,t)?v(o,t,y(p,t)):ee(t,y(o,t))}else{if(l&&f(e))for(const e of V.mount){const t=y(d,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(I(e)){const t=e.closest("form");if(t){t.reset();break}}}}if(t.keepFieldsRef)for(const e of V.mount)ee(e,y(o,e));else d={}}p=r.shouldUnregister?t.keepDefaultValues?u(m):{}:u(o),S.array.next({values:{...o}}),S.state.next({values:{...o}})}V={mount:t.keepDirtyValues?V.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},_.mount=!w.isValid||!!t.keepIsValid||!!t.keepDirtyValues||!r.shouldUnregister&&!B(o),_.watch=!!r.shouldUnregister,S.state.next({submitCount:t.keepSubmitCount?n.submitCount:0,isDirty:!i&&(t.keepDirty?n.isDirty:!(!t.keepDefaultValues||T(e,m))),isSubmitted:!!t.keepIsSubmitted&&n.isSubmitted,dirtyFields:i?{}:t.keepDirtyValues?t.keepDefaultValues&&p?K(m,p):n.dirtyFields:t.keepDefaultValues&&e?K(m,e):t.keepDirty?n.dirtyFields:{},touchedFields:t.keepTouched?n.touchedFields:{},errors:t.keepErrors?n.errors:{},isSubmitSuccessful:!!t.keepIsSubmitSuccessful&&n.isSubmitSuccessful,isSubmitting:!1,defaultValues:m})},we=(e,t)=>Ae(P(e)?e(p):e,t),xe=e=>{n={...n,...e}},Se={control:{register:_e,unregister:be,getFieldState:me,handleSubmit:Fe,setError:ve,_subscribe:ge,_runSchema:L,_focusError:Ve,_getWatch:Q,_getDirty:J,_setValid:D,_setFieldArray:(e,t=[],s,a,i=!0,o=!0)=>{if(a&&s&&!r.disabled){if(_.action=!0,o&&Array.isArray(y(d,e))){const t=s(y(d,e),a.argA,a.argB);i&&v(d,e,t)}if(o&&Array.isArray(y(n.errors,e))){const t=s(y(n.errors,e),a.argA,a.argB);i&&v(n.errors,e,t),((e,t)=>{!c(y(e,t)).length&&z(e,t)})(n.errors,e)}if((w.touchedFields||x.touchedFields)&&o&&Array.isArray(y(n.touchedFields,e))){const t=s(y(n.touchedFields,e),a.argA,a.argB);i&&v(n.touchedFields,e,t)}(w.dirtyFields||x.dirtyFields)&&(n.dirtyFields=K(m,p)),S.state.next({name:e,isDirty:J(e,t),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else v(p,e,t)},_setDisabledField:pe,_setErrors:e=>{n.errors=e,S.state.next({errors:n.errors,isValid:!1})},_getFieldArray:e=>c(y(_.mount?p:m,e,r.shouldUnregister?y(m,e,[]):[])),_reset:Ae,_resetDefaultValues:()=>P(r.defaultValues)&&r.defaultValues().then(e=>{we(e,r.resetOptions),S.state.next({isLoading:!1})}),_removeUnmounted:()=>{for(const e of V.unMount){const t=y(d,e);t&&(t._f.refs?t._f.refs.every(e=>!H(e)):!H(t._f.ref))&&be(e)}V.unMount=new Set},_disableForm:e=>{h(e)&&(S.state.next({disabled:e}),ue(d,(t,r)=>{const s=y(d,r);s&&(t.disabled=s._f.disabled||e,Array.isArray(s._f.refs)&&s._f.refs.forEach(t=>{t.disabled=s._f.disabled||e}))},0,!1))},_subjects:S,_proxyFormState:w,get _fields(){return d},get _formValues(){return p},get _state(){return _},set _state(e){_=e},get _defaultValues(){return m},get _names(){return V},set _names(e){V=e},get _formState(){return n},get _options(){return r},set _options(e){r={...r,...e}}},subscribe:e=>(_.mount=!0,x={...x,...e.formState},ge({...e,formState:x})),trigger:ne,register:_e,handleSubmit:Fe,watch:(e,t)=>P(e)?S.state.subscribe({next:r=>"values"in r&&e(Q(void 0,t),r)}):Q(e,t,!0),setValue:ee,getValues:ce,reset:we,resetField:(e,t={})=>{y(d,e)&&(f(t.defaultValue)?ee(e,u(y(m,e))):(ee(e,t.defaultValue),v(m,e,u(t.defaultValue))),t.keepTouched||z(n.touchedFields,e),t.keepDirty||(z(n.dirtyFields,e),n.isDirty=t.defaultValue?J(e,u(y(m,e))):J()),t.keepError||(z(n.errors,e),w.isValid&&D()),S.state.next({...n}))},clearErrors:e=>{e&&M(e).forEach(e=>z(n.errors,e)),S.state.next({errors:e?n.errors:{}})},unregister:be,setError:ve,setFocus:(e,t={})=>{const r=y(d,e),s=r&&r._f;if(s){const e=s.refs?s.refs[0]:s.ref;e.focus&&(e.focus(),t.shouldSelect&&P(e.select)&&e.select())}},getFieldState:me};return{...Se,formControl:Se}}function ge(t={}){const r=e.useRef(void 0),s=e.useRef(void 0),[a,i]=e.useState({isDirty:!1,isValidating:!1,isLoading:P(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:P(t.defaultValues)?void 0:t.defaultValues});if(!r.current)if(t.formControl)r.current={...t.formControl,formState:a},t.defaultValues&&!P(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:e,...s}=ve(t);r.current={...s,formState:a}}const n=r.current.control;return n._options=t,N(()=>{const e=n._subscribe({formState:n._proxyFormState,callback:()=>i({...n._formState}),reRenderRoot:!0});return i(e=>({...e,isReady:!0})),n._formState.isReady=!0,e},[n]),e.useEffect(()=>n._disableForm(t.disabled),[n,t.disabled]),e.useEffect(()=>{t.mode&&(n._options.mode=t.mode),t.reValidateMode&&(n._options.reValidateMode=t.reValidateMode)},[n,t.mode,t.reValidateMode]),e.useEffect(()=>{t.errors&&(n._setErrors(t.errors),n._focusError())},[n,t.errors]),e.useEffect(()=>{t.shouldUnregister&&n._subjects.state.next({values:n._getWatch()})},[n,t.shouldUnregister]),e.useEffect(()=>{if(n._proxyFormState.isDirty){const e=n._getDirty();e!==a.isDirty&&n._subjects.state.next({isDirty:e})}},[n,a.isDirty]),e.useEffect(()=>{t.values&&!T(t.values,s.current)?(n._reset(t.values,{keepFieldsRef:!0,...n._options.resetOptions}),s.current=t.values,i(e=>({...e}))):n._resetDefaultValues()},[n,t.values]),e.useEffect(()=>{n._state.mount||(n._setValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),r.current.formState=((e,t,r,s=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const r=i;return t._proxyFormState[r]!==A&&(t._proxyFormState[r]=!s||A),e[r]}});return a})(a,n),r.current}const be=t.forwardRef(({label:e,error:t,required:s,children:a},i)=>r.jsxs("div",{ref:i,children:[e&&r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[e,s&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),a,t&&r.jsx("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:t})]}));be.displayName="FormField";const pe=t.forwardRef(({error:e,className:t="",...s},a)=>{const i=e?"border-red-500 focus:ring-red-500 focus:border-red-500":"";return r.jsx("input",{ref:a,className:`input ${i} ${t}`,...s})});pe.displayName="Input";const _e=t.forwardRef(({error:e,className:t="",...s},a)=>{const i=e?"border-red-500 focus:ring-red-500 focus:border-red-500":"";return r.jsx("textarea",{ref:a,className:`textarea ${i} ${t}`,...s})});_e.displayName="Textarea";export{be as F,pe as I,_e as T,ge as u};
